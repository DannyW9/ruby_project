<h1><%= @class.name %></h1>

<p>Class Start Time: <%= @class.class_time.slice(0..4) %></p>
<p>Instructor: <%= @class.instructor %></p>
<p>Description: <%= @class.description %></p>
<p>Maximum Capacity: <%= @class.max_capacity %></p>

<h3>Members Attending:</h3>

<ul>
  <% @class.members.each do |member| %>
  <li><%= member.full_name() %></li>
  <form action="/reservations/<%= @class.id %>/<%= member.id %>/delete" method="post">
    <input type="submit" value="Remove from Class">
  <% end %>
</ul>

<form action="/classes/<%= @class.id%>/edit" method="get">
  <input type="submit" value="Edit Class Details">
</form>

<form action="/reservations/<%= @class.id %>/delete" method="post">
  <input type="submit" value="Remove All Reservations">
</form>

<form action="/classes/<%= @class.id %>/delete" method="post">
  <input type="submit" value="Remove Class">
</form>

<hr>

<h2>Book Member into Class</h2>

<form action="/reservations" method="post">
<!--Hidden input for passing through gym_class_id into the reservation  -->
<input type="hidden" name="gym_class_id" value="<%= @class.id %>">

  <label for="member">Select a Member:</label>
    <select name="member_id" id="member">

      <% if @class.capacity_check == false %>
        <option value="" selected disabled>This class is full!</option>
        <% else %>

      <% @class.available_members.each do |member| %>
        <option value="<%= member.id %>"><%= member.full_name() %></option>
        <% end %>
        <% end %>
    </select>

    <div class="submit">
      <input type="submit" value="Create new booking">
    </div>

</form>
